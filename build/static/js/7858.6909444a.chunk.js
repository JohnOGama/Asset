(self.webpackChunkasset=self.webpackChunkasset||[]).push([[7858],{77858:function(e,r,t){"use strict";t.r(r);var n=t(1413),o=t(29439),a=t(72791),c=t(31243),s=t(15493),i=t(31675),u=t(8845),l=t(24518),d=t(5574),f=t(97123),g=t(39157),h=t(51691),y=t(65661),Z=t(35527),p=t(59962),m=t.n(p),x=t(17746),w=t(44293),C=t(54970),j=t(57689),v=t(78983),b=t(80184);r.default=function(){var e=(0,j.s0)(),r="",t="",p=(0,a.useState)(""),E=(0,o.Z)(p,2),k=E[0],N=E[1],S=(0,a.useState)("red"),V=(0,o.Z)(S,2),D=V[0],M=V[1],z=(0,a.useState)([]),I=(0,o.Z)(z,2),R=I[0],F=I[1],_=a.useState(!1),U=(0,o.Z)(_,2),L=U[0],P=U[1],T=(0,a.useState)(""),H=(0,o.Z)(T,2),O=H[0],A=H[1];function W(){try{!function(){try{t=(0,w.pe)(window.localStorage.getItem("Kgr67W@"),x.Z.secretkeylocal)}catch(n){(0,C.Z)("Error","UserCategoryView","CheckRole Local Storage is tampered",n.message,r),e("/dashboard")}}(),"Admin"==t||"IT"==t?null==!window.localStorage.getItem("id")||"0"!==window.localStorage.getItem("id")?r=(0,w.pe)(window.localStorage.getItem("id"),x.Z.secretkeylocal):e("/login"):e("/dashboard")}catch(n){e("/dashboard")}}(0,a.useEffect)((function(){W()}),[]);var Y=a.useMemo((function(){return[{field:"id",headerName:"Actions",type:"actions",disableClickEventBubbling:!0,renderCell:function(r){return(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Z,{cursor:"pointer",onClick:function(){return function(r){e("/configurations/usercategory",{state:{params:r}})}(r.row.id)}}),(0,b.jsx)(u.Z,{cursor:"pointer",onClick:function(){return q(r.row.id)}})]})}},{field:"categoryName",headerName:"Category Name",width:200,editable:!1},{field:"categoryDesc",headerName:"Description",width:300,editable:!1}]}),[]);(0,a.useEffect)((function(){}),[O]);var q=function(e){N(""),A(e),function(e){try{""==r&&W();var t=e,n="http://localhost:3001/usercategory/checkuserCategoryfordelete";c.Z.post(n,{rowId:t}).then((function(e){var r=e.data.message;"Record Found"==r?(N("User Category selected still in use"),M("red"),P(!1)):"No Record Found"==r&&P(!0)})).catch((function(e){(0,C.Z)("Error","UserCategoryView","checkStatus /usercategory/checkuserCategoryfordelete",e.message,r),N("Error in checking status"),M("red")}))}catch(o){(0,C.Z)("Error","UserCategoryView","checkStatus /usercategory/checkuserCategoryfordelete","Error in try/catch",r)}}(e)},B=function(){P(!1)};function G(){N(""),""==r&&W();c.Z.post("http://localhost:3001/usercategory/viewallusercategory").then((function(e){var t=e.data.message;"Record Found"==t?F(e.data.result):"No Record Found"==t&&((0,C.Z)("Error","UserCategoryView","LoadData /usercategory/viewallusercategory",e.data.message,r),N("No record found"),M("red"))})).catch((function(e){(0,C.Z)("Error","UserCategoryView","LoadData /usercategory/viewallusercategory","Error in then.catch \n"+e.message,r),N("No record found"),M("red")}))}return(0,a.useEffect)((function(){G()}),[]),(0,b.jsx)(v.b7,{xs:12,children:(0,b.jsxs)(v.xH,{className:"mb-3",size:"sm",children:[(0,b.jsx)(v.bn,{children:(0,b.jsxs)("h6",{children:[(0,b.jsxs)("span",{className:"message",style:{color:"#5da4f5"},children:[" ",(0,b.jsx)(b.Fragment,{children:" User Category  "})]}),(0,b.jsx)("br",{}),(0,b.jsxs)("strong",{children:[(0,b.jsx)("span",{className:"message",style:{color:D},children:(0,b.jsx)("p",{children:k})})," "]})]})}),(0,b.jsx)(v.lx,{children:(0,b.jsx)(v.rb,{children:(0,b.jsx)(v.b7,{xs:12,children:(0,b.jsxs)(v.sl,{children:[(0,b.jsx)(v.u5,{onClick:function(r){e("/configurations/usercategory",{state:{params:""}})},children:"Create New "}),(0,b.jsx)(v.YR,{size:"sm",className:"mb-3",children:(0,b.jsx)("div",{style:{height:400,width:"100%"},children:(0,b.jsx)(s._$,{rows:R,columns:Y,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],rowSelection:!0,getRowId:function(e){return e.id}})})}),(0,b.jsx)("div",{className:"d-grid",children:(0,b.jsxs)(d.Z,{open:L,onClose:B,PaperComponent:function(e){return(0,b.jsx)(m(),{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:(0,b.jsx)(Z.Z,(0,n.Z)({},e))})},"aria-labelledby":"draggable-dialog-title",children:[(0,b.jsx)(y.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Category"}),(0,b.jsx)(g.Z,{children:(0,b.jsx)(h.Z,{children:"Are you sure you want to Delete ?"})}),(0,b.jsxs)(f.Z,{children:[(0,b.jsx)(l.Z,{autoFocus:!0,onClick:B,children:"No"}),(0,b.jsx)(l.Z,{onClick:function(){try{""==r&&W();var e=O;c.Z.post("http://localhost:3001/usercategory/deleteuserCategory",{rowId:e}).then((function(e){var t=e.data.message;"Record Deleted"==t?(P(!1),G()):"No Record Deleted"==t&&(N("No record deleted"),M("red"),(0,C.Z)("Error","UserCategoryView","handleDelete /usercategory/deleteuserCategory",e.data.message.message,r))})).catch((function(e){(0,C.Z)("Error","UserCategoryView","handleDelete /usercategory/deleteuserCategory","Error in then/catch \n"+e.message,r),N("No record deleted"),M("red")}))}catch(t){(0,C.Z)("Error","CategoryView","handleDelete /usercategory/deleteuserCategory","Error in then/catch \n"+t.message,r)}},children:"Yes"})]})]})})]})})})})]})})}},8845:function(e,r,t){"use strict";var n=t(64836);r.Z=void 0;var o=n(t(45649)),a=t(80184),c=(0,o.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineTwoTone");r.Z=c},31675:function(e,r,t){"use strict";var n=t(64836);r.Z=void 0;var o=n(t(45649)),a=t(80184),c=(0,o.default)([(0,a.jsx)("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19z"},"1")],"EditTwoTone");r.Z=c},45649:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=t(54421)},54421:function(e,r,t){"use strict";t.r(r),t.d(r,{capitalize:function(){return o.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return c.Z},debounce:function(){return s.Z},deprecatedPropType:function(){return i},isMuiElement:function(){return u.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return g},unstable_ClassNameGenerator:function(){return C},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return y.Z},unsupportedProp:function(){return Z},useControlled:function(){return p.Z},useEventCallback:function(){return m.Z},useForkRef:function(){return x.Z},useIsFocusVisible:function(){return w.Z}});var n=t(55902),o=t(14036),a=t(78949).Z,c=t(76189),s=t(83199);var i=function(e,r){return function(){return null}},u=t(19103),l=t(98301),d=t(17602);t(87462);var f=function(e,r){return function(){return null}},g=t(62971).Z,h=t(40162),y=t(67384);var Z=function(e,r,t,n,o){return null},p=t(98278),m=t(89683),x=t(42071),w=t(23031),C={configure:function(e){n.Z.configure(e)}}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=7858.6909444a.chunk.js.map