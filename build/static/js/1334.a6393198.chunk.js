"use strict";(self.webpackChunkasset=self.webpackChunkasset||[]).push([[1334],{51334:function(e,s,t){t.r(s);var a=t(4942),r=t(29439),n=t(1413),l=t(45987),i=t(72791),c=t(31243),o=t(24750),u=t(66798),d=t(14693),m=t(65515),h=(t(29697),t(30948)),p=t(64554),g=t(94925),f=t(27391),x=t(68096),b=t(23786),j=t(64415),Z=t(78983),S=t(57689),A=t(17746),y=t(44293),E=t(54970),C=t(80184),R=["onChange"],v=i.forwardRef((function(e,s){var t=e.onChange,a=(0,l.Z)(e,R);return(0,C.jsx)(h.h3,(0,n.Z)((0,n.Z)({},a),{},{getInputRef:s,onValueChange:function(s){t({target:{name:e.name,value:s.value}})},thousandSeparator:!0,valueIsNumericString:!0,prefix:"Php "}))}));s.default=function(){var e=(0,S.s0)(),s=(0,i.useState)([]),t=(0,r.Z)(s,2),l=t[0],h=t[1],R=(0,i.useState)([]),N=(0,r.Z)(R,2),I=N[0],D=N[1],w=(0,i.useState)(""),z=(0,r.Z)(w,2),Y=(z[0],z[1],(0,i.useState)({})),W=(0,r.Z)(Y,2),k=(W[0],W[1],(0,i.useState)("")),F=(0,r.Z)(k,2),P=F[0],L=F[1],M=(0,i.useState)("red"),T=(0,r.Z)(M,2),U=T[0],_=T[1],B=(0,i.useState)(""),H=(0,r.Z)(B,2),K=H[0],O=H[1],V=(0,i.useState)(""),q=(0,r.Z)(V,2),G=q[0],J=q[1],Q=(0,i.useState)(""),X=(0,r.Z)(Q,2),$=X[0],ee=X[1],se="",te="",ae=(0,i.useState)({assetcategID:"",supplierID:"",serialno:"",assetcode:"",assetname:"",description:""}),re=(0,r.Z)(ae,2),ne=re[0],le=re[1],ie=(0,i.useState)(""),ce=(0,r.Z)(ie,2),oe=ce[0],ue=ce[1],de=i.useState({textmask:"(100) 000-0000",amountnumberformat:"",amountdepnumberformat:""}),me=(0,r.Z)(de,2),he=me[0],pe=me[1];function ge(){try{!function(){try{te=se=(0,y.pe)(window.localStorage.getItem("Kgr67W@"),A.Z.secretkeylocal)}catch(s){(0,E.Z)("Error","AssetRegister","CheckRole Local Storage is tampered",s.message,se),e("/dashboard")}}(),"Admin"==te||"IT"==te?null==!window.localStorage.getItem("id")||"0"!==window.localStorage.getItem("id")?se=(0,y.pe)(window.localStorage.getItem("id"),A.Z.secretkeylocal):e("/login"):e("/dashboard")}catch(s){e("/dashboard")}}function fe(e){le((0,n.Z)((0,n.Z)({},ne),{},(0,a.Z)({},e.target.name,e.target.value.trim())))}(0,i.useEffect)((function(){}),[ne]),(0,i.useEffect)((function(){}),[G]),(0,i.useEffect)((function(){}),[$]),(0,i.useEffect)((function(){ge()}),[]),(0,i.useEffect)((function(){""==se&&ge();try{c.Z.post("http://localhost:3001/category/getAssetCategory").then((function(e){var s=e.data.message;"Record Found"==s?h(e.data.result):"No Record Found"==s&&(0,E.Z)("Error","AssetRegister","useEffect /category/getAssetCategory",e.data.message2,se)})).catch((function(e){(0,E.Z)("Error","AssetRegister","useEffect /category/getAssetCategory"," then/catch \n "+e.message,se)}))}catch(e){(0,E.Z)("Error","AssetRegister","useEffect /category/getAssetCategory"," try/catch \n "+e.message,se)}}),[]),(0,i.useEffect)((function(){!function(){try{""==se&&ge();var e="http://localhost:3001/supplier/getsupplier";c.Z.post(e).then((function(e){var s=e.data.message;"Record Found"==s?D(e.data.result):"No Record Found"==s&&(0,E.Z)("Error","AssetEdit","LoadSupplier /supplier/getsupplier",e.data.message2,se)})).catch((function(e){(0,E.Z)("Error","AssetEdit","LoadSupplier /supplier/getsupplier","Error in then/catch \n"+e.message,se)}))}catch(s){(0,E.Z)("Error","AssetEdit","LoadSupplier /supplier/getsupplier","Error in try/catch \n"+s.message,se)}}()}),[]),(0,i.useEffect)((function(){""==se&&ge();try{c.Z.post("http://localhost:3001/assets/getAssetStatus").then((function(e){var s=e.data.message;"Record Found"==s?O(e.data.result[0].assetStatusID):"No Record Found"==s&&(0,E.Z)("Error","AssetRegister","useEffect /assets/getAssetStatus",e.data.message2,se)})).catch((function(e){(0,E.Z)("Error","AssetRegister","useEffect /assets/getAssetStatus"," then/catch \n "+e.message,se)}))}catch(e){(0,E.Z)("Error","AssetRegister","useEffect /assets/getAssetStatus"," try/catch \n "+e.message,se)}}),[]);var xe=function(e){pe((0,n.Z)((0,n.Z)({},he),{},(0,a.Z)({},e.target.name,e.target.value)))};return(0,i.useEffect)((function(){console.log(oe)}),[oe]),(0,C.jsx)(Z.b7,{xs:12,children:(0,C.jsxs)(Z.xH,{className:"mb-3",children:[(0,C.jsx)(Z.bn,{children:(0,C.jsxs)("h6",{children:[(0,C.jsxs)("span",{className:"message",style:{color:"#5da4f5"},children:[" ",(0,C.jsx)(C.Fragment,{children:" Asset Registration  "})]}),(0,C.jsx)("br",{}),(0,C.jsxs)("strong",{children:[(0,C.jsx)("span",{className:"message",style:{color:U},children:(0,C.jsx)("p",{children:P})})," "]})]})}),(0,C.jsx)(Z.lx,{onSubmit:function(s){try{""==se&&ge(),s.preventDefault();var t=ne.assetcategID,a=ne.serialno,r=ne.assetcode,n=ne.assetname,l=ne.description,i=he.amountnumberformat,o=he.amountdepnumberformat,u=ne.supplierID;if(console.log(u),""==!K&&""==!t&&""==!a&&""==!r&&""==!n&&""==!l&&""==!i&&""==!o&&""==!G&&""==!$&&""==!oe&&""==!u){c.Z.post("http://localhost:3001/assets/putAssets",{assetStat:K,supplierid:u,assetcategID:t,serialno:a,assetcode:r,assetname:n,description:l,amount:i,amountdepreciated:o,datePurchase:G,dateDepreciated:$,file:oe,userID:se},{headers:{"Content-Type":"multipart/form-data"}}).then((function(s){var t=s.data.message;"Insert Success"==t?e("/Dashboard"):"Insert Error"==t&&((0,E.Z)("Error","AssetRegister","handleSubmit /assets/putAssets",s.data.message2,se),L("Error in inserting new asset"),_("red"))})).catch((function(e){(0,E.Z)("Error","AssetRegister","handleSubmit /assets/putAssets"," then/catch "+e.message,se)}))}else L(" All Fields must not be Empty"),_("orange")}catch(d){(0,E.Z)("Error","AssetRegister","handleSubmit /assets/putAssets"," try/catch "+d.message,se)}},children:(0,C.jsxs)(Z.rb,{children:[(0,C.jsx)(Z.b7,{children:(0,C.jsxs)(Z.sl,{children:[(0,C.jsxs)(x.Z,{fullWidth:!0,children:[(0,C.jsx)(g.Z,{id:"demo-simple-select-label",children:"Supplier"}),(0,C.jsx)(j.Z,{className:"mb-3","aria-label":"Small select example",name:"supplierID",onChange:fe,value:ne.supplierID,label:"Supplier",children:I.map((function(e,s){return(0,C.jsx)(b.Z,{value:e.supplierid,children:e.name},e.supplierid)}))})]}),(0,C.jsxs)(x.Z,{fullWidth:!0,children:[(0,C.jsx)(g.Z,{children:"Asset Category"}),(0,C.jsx)(j.Z,{size:"sm",className:"mb-3","aria-label":"Small select example",name:"assetcategID",onChange:fe,children:l.map((function(e){return(0,C.jsx)(b.Z,{value:e.assetCategID,children:e.assetCategName},e.assetCategID)}))})]}),(0,C.jsx)(Z.YR,{size:"sm",className:"mb-3",children:(0,C.jsx)(f.Z,{onChange:fe,name:"serialno",id:"outlined-textarea",fullWidth:!0,label:"SerialNo",placeholder:"SerialNo"})}),(0,C.jsx)(Z.YR,{size:"sm",className:"mb-3",children:(0,C.jsx)(f.Z,{onChange:fe,name:"assetcode",id:"outlined-textarea",fullWidth:!0,label:"Asset Code",placeholder:"Asset Code"})}),(0,C.jsx)(Z.YR,{size:"sm",className:"mb-3",children:(0,C.jsx)(f.Z,{onChange:fe,name:"assetname",id:"outlined-textarea",fullWidth:!0,label:"Asset Name",placeholder:"Asset Name"})}),(0,C.jsx)(Z.YR,{size:"sm",className:"mb-3",children:(0,C.jsx)(f.Z,{onChange:fe,name:"description",id:"outlined-textarea",fullWidth:!0,label:"Description",placeholder:"Description",multiline:!0,rows:5})})]})}),(0,C.jsx)(Z.b7,{children:(0,C.jsxs)(Z.sl,{xs:6,children:[(0,C.jsx)(Z.YR,{size:"sm",className:"mb-3",children:(0,C.jsx)(p.Z,{sx:{"& > :not(style)":{m:1}},children:(0,C.jsx)(f.Z,{label:"Amount Purchase",value:he.amountnumberformat,onChange:xe,name:"amountnumberformat",id:"formatted-numberformat-input",InputProps:{inputComponent:v},variant:"standard"})})}),(0,C.jsx)(Z.YR,{size:"sm",className:"mb-3",children:(0,C.jsx)(f.Z,{label:"Amount Depreciated per YR",value:he.amountdepnumberformat,onChange:xe,name:"amountdepnumberformat",id:"formatted-numberformat-input",InputProps:{inputComponent:v},variant:"standard"})}),(0,C.jsx)(Z.YR,{size:"sm",className:"mb-3",children:(0,C.jsx)(u._,{dateAdapter:o.y,children:(0,C.jsx)(d.M,{name:"datePurchase",label:"Date Purchase",fullWidth:!0,true:!0,onChange:function(e){return J(e)}})})}),(0,C.jsx)("br",{}),(0,C.jsx)(Z.YR,{size:"sm",className:"mb-3",children:(0,C.jsx)(u._,{dateAdapter:o.y,children:(0,C.jsx)(d.M,{name:"dateDepreciated",label:"Date Depreciated",fullWidth:!0,true:!0,onChange:function(e){return ee(e)}})})})]})}),(0,C.jsxs)(Z.b7,{children:[(0,C.jsx)(Z.rb,{}),(0,C.jsx)(Z.rb,{children:(0,C.jsx)(Z.sl,{xs:6,children:(0,C.jsx)(Z.YR,{size:"sm",className:"mb-3",children:(0,C.jsxs)("div",{className:"CCardBody img1",width:"100%",height:"100%",children:[(0,C.jsx)("img",{src:oe?URL.createObjectURL(oe):m,alt:"",style:{width:"80%",textAlign:"center",margin:"auto"},className:"mt-2"}),(0,C.jsx)("div",{className:"formInput",children:(0,C.jsx)("input",{name:"file",type:"file",onChange:function(e){return ue(e.target.files[0])}})})]})})})}),(0,C.jsx)(Z.rb,{})]}),(0,C.jsx)("div",{className:"d-grid",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,C.jsx)(Z.u5,{color:"success",style:{width:"200%"},type:"submit",children:"Save"})})]})})]})})}},65515:function(e,s,t){e.exports=t.p+"static/media/DefaultAsset.f90524359a4aba5c898b.png"}}]);
//# sourceMappingURL=1334.a6393198.chunk.js.map