(self.webpackChunkasset=self.webpackChunkasset||[]).push([[1904],{21904:function(e,t,n){"use strict";n.r(t);var r=n(1413),s=n(29439),o=n(72791),a=n(31243),c=n(15493),u=n(31675),i=n(8845),l=n(17746),d=n(44293),f=n(57689),h=n(78983),g=n(24518),p=n(5574),Z=n(97123),m=n(39157),x=n(51691),j=n(65661),v=n(35527),w=n(59962),b=n.n(w),S=n(54970),y=n(80184);t.default=function(){var e=(0,f.s0)(),t="",n="",w=(0,o.useState)(""),E=(0,s.Z)(w,2),C=E[0],N=E[1],k=(0,o.useState)("red"),D=(0,s.Z)(k,2),M=D[0],z=D[1],I=(0,o.useState)([]),R=(0,s.Z)(I,2),V=R[0],F=R[1],_=o.useState(!1),L=(0,s.Z)(_,2),P=L[0],T=L[1],H=(0,o.useState)(""),O=(0,s.Z)(H,2),A=O[0],B=O[1];function W(){try{!function(){try{n=(0,d.pe)(window.localStorage.getItem("Kgr67W@"),l.Z.secretkeylocal)}catch(r){(0,S.Z)("Error","StatusView","CheckRole Local Storage is tampered",r.message,t),e("/dashboard")}}(),"Admin"==n||"IT"==n?null==!window.localStorage.getItem("id")||"0"!==window.localStorage.getItem("id")?t=(0,d.pe)(window.localStorage.getItem("id"),l.Z.secretkeylocal):e("/login"):e("/dashboard")}catch(r){e("/dashboard")}}(0,o.useEffect)((function(){W()}),[]);var Y=o.useMemo((function(){return[{field:"id",headerName:"Actions",type:"actions",disableClickEventBubbling:!0,renderCell:function(t){return(0,y.jsxs)("div",{children:[(0,y.jsx)(u.Z,{cursor:"pointer",onClick:function(){return function(t){e("/configurations/assetstatus",{state:{params:t}})}(t.row.id)}}),(0,y.jsx)(i.Z,{cursor:"pointer",onClick:function(){return q(t.row.id)}})]})}},{field:"statusName",headerName:"Status Name",width:200,editable:!1},{field:"statusDescription",headerName:"Description",width:300,editable:!1}]}),[]);var q=function(e){N(""),B(e),function(e){try{""==t&&W();var n=e,r="http://localhost:3001/status/checkStatusfordelete";a.Z.post(r,{rowId:n}).then((function(e){var t=e.data.message;"Record Found"==t?(N("Status selected still in use"),z("red"),T(!1)):"No Record Found"==t&&T(!0)})).catch((function(e){console.log(e),N("Error in checking status"),z("red")}))}catch(s){console.log(s)}}(e),T(!0)},G=function(){T(!1)};function K(){""==t&&W();a.Z.post("http://localhost:3001/status/viewallstatus").then((function(e){var n=e.data.message;"Record Found"==n?F(e.data.result):"No Record Found"==n&&(N("No Record Found"),z("red"),(0,S.Z)("Error","StatusView","LoadData /status/viewallstatus",e.data.message2,t))})).catch((function(e){(0,S.Z)("Error","StatusView","LoadData /status/viewallstatus","DB Error then/catch \n"+e.message,t)}))}return(0,o.useEffect)((function(){K()}),[]),(0,y.jsx)(h.b7,{xs:12,children:(0,y.jsxs)(h.xH,{className:"mb-3",size:"sm",children:[(0,y.jsx)(h.bn,{children:(0,y.jsxs)("h6",{children:[(0,y.jsxs)("span",{className:"message",style:{color:"#5da4f5"},children:[" ",(0,y.jsx)(y.Fragment,{children:" Status "})]}),(0,y.jsx)("br",{}),(0,y.jsxs)("strong",{children:[(0,y.jsx)("span",{className:"message",style:{color:M},children:(0,y.jsx)("p",{children:C})})," "]})]})}),(0,y.jsx)(h.lx,{children:(0,y.jsx)(h.rb,{children:(0,y.jsx)(h.b7,{xs:12,children:(0,y.jsxs)(h.sl,{children:[(0,y.jsx)(h.u5,{onClick:function(t){e("/configurations/assetstatus",{state:{params:""}})},children:"Create New "}),(0,y.jsx)(h.YR,{size:"sm",className:"mb-3",children:(0,y.jsx)("div",{style:{height:400,width:"100%"},children:(0,y.jsx)(c._$,{rows:V,columns:Y,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],rowSelection:!0,getRowId:function(e){return e.id}})})}),(0,y.jsx)("div",{className:"d-grid",children:(0,y.jsxs)(p.Z,{open:P,onClose:G,PaperComponent:function(e){return(0,y.jsx)(b(),{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:(0,y.jsx)(v.Z,(0,r.Z)({},e))})},"aria-labelledby":"draggable-dialog-title",children:[(0,y.jsx)(j.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Status"}),(0,y.jsx)(m.Z,{children:(0,y.jsx)(x.Z,{children:"Are you sure you want to Delete ?"})}),(0,y.jsxs)(Z.Z,{children:[(0,y.jsx)(g.Z,{autoFocus:!0,onClick:G,children:"No"}),(0,y.jsx)(g.Z,{onClick:function(){try{var e=A;a.Z.post("http://localhost:3001/status/deleteStatus",{rowId:e}).then((function(e){var n=e.data.message;"Record Deleted"==n?(T(!1),K()):"No Record Deleted"==n&&(N("No record deleted"),z("red"),(0,S.Z)("Error","StatusView","useEffect /status/deleteStatus",e.data.message2,t))})).catch((function(e){(0,S.Z)("Error","StatusView","useEffect /status/deleteStatus","Delete Error on then/catch \n"+e.message,t)}))}catch(n){(0,S.Z)("Error","StatusView","handleDelete ","Delete Error on try/catch response \n"+n.message,t)}},children:"Yes"})]})]})})]})})})})]})})}},8845:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var s=r(n(45649)),o=n(80184),a=(0,s.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineTwoTone");t.Z=a},31675:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var s=r(n(45649)),o=n(80184),a=(0,s.default)([(0,o.jsx)("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),(0,o.jsx)("path",{d:"M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19z"},"1")],"EditTwoTone");t.Z=a},45649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(54421)},54421:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return s.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return a.Z},debounce:function(){return c.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return i.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return h},unstable_ClassNameGenerator:function(){return w},unstable_useEnhancedEffect:function(){return g.Z},unstable_useId:function(){return p.Z},unsupportedProp:function(){return Z},useControlled:function(){return m.Z},useEventCallback:function(){return x.Z},useForkRef:function(){return j.Z},useIsFocusVisible:function(){return v.Z}});var r=n(55902),s=n(14036),o=n(78949).Z,a=n(76189),c=n(83199);var u=function(e,t){return function(){return null}},i=n(19103),l=n(98301),d=n(17602);n(87462);var f=function(e,t){return function(){return null}},h=n(62971).Z,g=n(40162),p=n(67384);var Z=function(e,t,n,r,s){return null},m=n(98278),x=n(89683),j=n(42071),v=n(23031),w={configure:function(e){r.Z.configure(e)}}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=1904.321eeb48.chunk.js.map