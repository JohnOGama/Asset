(self.webpackChunkasset=self.webpackChunkasset||[]).push([[3418],{61358:function(e,t,s){"use strict";s.r(t);var r=s(4942),n=s(29439),a=s(1413),i=s(72791),o=s(31243),u=(s(97892),s(29697),s(27391)),c=s(78983),d=s(57689),l=s(17746),f=s(44293),h=s(54970),m=s(80184);t.default=function(){var e=(0,d.s0)(),t=(0,d.TH)().state,s="";try{s=t.params}catch(Q){e("/dashboard")}var p="",D="",g=(0,i.useState)([]),$=(0,n.Z)(g,2),v=$[0],b=$[1],y=(0,i.useState)([]),S=(0,n.Z)(y,2),w=S[0],x=S[1],M=(0,i.useState)({statusID:"",boxID:"",reason:""}),Z=(0,n.Z)(M,2),I=Z[0],A=Z[1],N=(0,i.useState)(""),E=(0,n.Z)(N,2),j=E[0],O=E[1],k=(0,i.useState)("red"),C=(0,n.Z)(k,2),Y=C[0],_=C[1],R=(0,i.useState)(""),F=(0,n.Z)(R,2),H=(F[0],F[1]),T=(0,i.useState)(""),L=(0,n.Z)(T,2),W=(L[0],L[1]),P=(0,i.useState)({assetID:"",assetcategID:"",serialNo:"",assetCode:"",assetName:"",description:"",amount:"",datePurchase:"",amountDepreciatedYr:"",dateDepreciated:"",status:v}),z=(0,n.Z)(P,2),U=z[0],J=z[1],B=(0,i.useState)({textmask:"(100) 000-0000",amountnumberformat:"",amountdepnumberformat:""}),V=(0,n.Z)(B,2),X=V[0];V[1];function q(){try{!function(){try{D=(0,f.pe)(window.localStorage.getItem("Kgr67W@"),l.Z.secretkeylocal)}catch(Q){(0,h.Z)("Error","AssetUser","CheckRole Local Storage is tampered",Q.message,p),e("/dashboard")}}(),"Admin"==D||"IT"==D?null==!window.localStorage.getItem("id")||"0"!==window.localStorage.getItem("id")?p=(0,f.pe)(window.localStorage.getItem("id"),l.Z.secretkeylocal):e("/login"):e("/dashboard")}catch(Q){e("/dashboard")}}function K(e){A((0,a.Z)((0,a.Z)({},I),{},(0,r.Z)({},e.target.name,e.target.value.trim())))}return(0,i.useEffect)((function(){q()}),[]),(0,i.useEffect)((function(){""==p&&q();o.Z.post("http://localhost:3001/dispose/viewallstatus").then((function(e){var t=e.data.message;"Record Found"==t?b(e.data.result):"No Record Found"==t&&(0,h.Z)("Error","AssetDispose","useEffect /status/viewallstatus",e.data.message2,p)})).catch((function(e){(0,h.Z)("Error","AssetDispose","useEffect /status/viewallstatus",e.message,p)}))}),[]),(0,i.useEffect)((function(){""==p&&q();o.Z.post("http://localhost:3001/dispose/viewallboxs").then((function(e){var t=e.data.message;"Record Found"==t?x(e.data.result):"No Record Found"==t&&(O("No Box(s) Found"),_("red"),(0,h.Z)("Error","AssetDispose","useEffect /dispose/viewallboxs",e.data.message2,p))})).catch((function(e){(0,h.Z)("Error","AssetDispose","useEffect /dispose/viewallboxs",e.message,p)}))}),[]),(0,i.useEffect)((function(){""==p&&q();o.Z.post("http://localhost:3001/assets/getassetsbyID",{rowId:s}).then((function(e){var t=e.data.message;"Record Found"==t?(J((0,a.Z)((0,a.Z)({},U),{},{assetID:e.data.result[0].assetID,assetcategID:e.data.result[0].assetCategID,serialNo:e.data.result[0].serialNo,assetCode:e.data.result[0].assetCode,assetName:e.data.result[0].assetName,description:e.data.result[0].description,amount:e.data.result[0].amount,datePurchase:e.data.result[0].datePurchase,amountDepreciatedYr:e.data.result[0].amountDepreciatedYr,dateDepreciated:e.data.result[0].dateDepreciated,status:e.data.result[0].statusName})),H(e.data.result[0].datePurchase),W(e.data.result[0].dateDepreciated),X.amountnumberformat=e.data.result[0].amount,X.amountdepnumberformat=e.data.result[0].amountDepreciatedYr):"No Record Found"==t&&(0,h.Z)("Error","AssetEdit","useEffect /assets/getassetsbyID",e.data.message2,p)})).catch((function(e){(0,h.Z)("Error","AssetEdit","useEffect /assets/getassetsbyID",e.message,p)}))}),[]),(0,m.jsx)(c.b7,{xs:12,children:(0,m.jsxs)(c.xH,{className:"mb-4",children:[(0,m.jsx)(c.bn,{children:(0,m.jsxs)("strong",{children:["Asset For Disposal ",(0,m.jsx)("span",{className:"message",style:{color:Y},children:(0,m.jsx)("p",{children:j})})," "]})}),(0,m.jsx)(c.lx,{onSubmit:function(t){try{""==p&&q(),t.preventDefault();o.Z.post("http://localhost:3001/dispose/checkassetdispose",{rowId:s}).then((function(t){var r=t.data.message;"Record Found"==r?(O("Assset already mark as Dispose"),_("red")):"No Record Found"==r&&function(){try{""==p&&q();var t=I.statusID,r=I.reason,n=I.boxID;""==!t&&""==!r&&""==!n?o.Z.post("http://localhost:3001/dispose/insertdispose",{rowId:s,statusid:t,boxid:n,reason:r,userID:p}).then((function(a){var i=a.data.message;"Insert Success"==i?((0,h.Z)("Message","AssetDispose","DisposeAsset /dispose/insertdispose","Asset Dispose Information \nAssetID : "+s+"\n Status : "+t+"\n Box : "+n+"\n Reason : "+r+"\n .....\n Mark as Dispose by : "+p,p),e("/base/assetview")):"Insert Error"==i&&((0,h.Z)("Error","AssetDispose","DisposeAsset /dispose/insertdispose",a.data.message2,p),e("/500"))})).catch((function(t){(0,h.Z)("Error","AssetDispose","DisposeAsset /dispose/insertdispose",t.message,p),e("/500")})):(O(" All Fields must not be Empty"),_("red"))}catch(Q){(0,h.Z)("Error","AssetDispose","DisposeAsset","Error try/catch "+Q.message,p)}}()})).catch((function(t){(0,h.Z)("Error","AssetDispose","handleSubmit /dispose/checkassetdispose",t.message,p),e("/500")}))}catch(Q){(0,h.Z)("Error","AssetDispose","handleSubmit",Q,p)}},children:(0,m.jsxs)(c.rb,{children:[(0,m.jsx)(c.b7,{children:(0,m.jsxs)(c.sl,{children:[(0,m.jsx)(c.LX,{size:"sm",className:"mb-3","aria-label":"Small select example",name:"statusID",onChange:K,children:v.map((function(e,t){return(0,m.jsxs)("option",{value:e.id,children:[" ",e.statusName," "]},e.id)}))}),(0,m.jsx)(c.LX,{size:"sm",className:"mb-3","aria-label":"Small select example",name:"boxID",onChange:K,children:w.map((function(e,t){return(0,m.jsxs)("option",{value:e.boxID,children:[" ",e.boxName," "]},e.boxID)}))}),(0,m.jsx)(c.YR,{size:"sm",className:"mb-3",children:(0,m.jsx)(u.Z,{onChange:K,name:"reason",id:"outlined-textarea",fullWidth:!0,label:"Reason ",placeholder:"Reason",multiline:!0,rows:10})})]})}),(0,m.jsx)(c.b7,{children:(0,m.jsx)(c.sl,{children:(0,m.jsx)(c.YR,{size:"sm",className:"mb-3",children:(0,m.jsx)(u.Z,{name:"Information",value:"Status : "+U.status+"\n\nSerial No : "+U.serialNo+"\nAsset Code : "+U.assetCode+"\nAsset Name : "+U.assetName+"\nDescription : "+U.description,id:"outlined-textarea",fullWidth:!0,label:"Asset Information ",placeholder:"Asset Information",multiline:!0,rows:14,InputProps:{readOnly:!0}})})})}),(0,m.jsx)("div",{className:"d-grid",children:(0,m.jsx)(c.u5,{color:"success",type:"submit",children:"Dispose"})})]})})]})})}},97892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,s=36e5,r="millisecond",n="second",a="minute",i="hour",o="day",u="week",c="month",d="quarter",l="year",f="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],s=e%100;return"["+e+(t[(s-20)%10]||t[s]||t[0])+"]"}},g=function(e,t,s){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(s)+e},$={s:g,z:function(e){var t=-e.utcOffset(),s=Math.abs(t),r=Math.floor(s/60),n=s%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(n,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var r=12*(s.year()-t.year())+(s.month()-t.month()),n=t.clone().add(r,c),a=s-n<0,i=t.clone().add(r+(a?-1:1),c);return+(-(r+(s-n)/(a?n-i:i-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:l,w:u,d:o,D:f,h:i,m:a,s:n,ms:r,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=D;var y=function(e){return e instanceof M},S=function e(t,s,r){var n;if(!t)return v;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(n=a),s&&(b[a]=s,n=a);var i=t.split("-");if(!n&&i.length>1)return e(i[0])}else{var o=t.name;b[o]=t,n=o}return!r&&n&&(v=n),n||!r&&v},w=function(e,t){if(y(e))return e.clone();var s="object"==typeof t?t:{};return s.date=e,s.args=arguments,new M(s)},x=$;x.l=S,x.i=y,x.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var M=function(){function D(e){this.$L=S(e.locale,null,!0),this.parse(e)}var g=D.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,s=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var n=r[2]-1||0,a=(r[7]||"0").substring(0,3);return s?new Date(Date.UTC(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return x},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var s=w(e);return this.startOf(t)<=s&&s<=this.endOf(t)},g.isAfter=function(e,t){return w(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<w(e)},g.$g=function(e,t,s){return x.u(e)?this[t]:this.set(s,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var s=this,r=!!x.u(t)||t,d=x.p(e),h=function(e,t){var n=x.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return r?n:n.endOf(o)},m=function(e,t){return x.w(s.toDate()[e].apply(s.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},p=this.$W,D=this.$M,g=this.$D,$="set"+(this.$u?"UTC":"");switch(d){case l:return r?h(1,0):h(31,11);case c:return r?h(1,D):h(0,D+1);case u:var v=this.$locale().weekStart||0,b=(p<v?p+7:p)-v;return h(r?g-b:g+(6-b),D);case o:case f:return m($+"Hours",0);case i:return m($+"Minutes",1);case a:return m($+"Seconds",2);case n:return m($+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var s,u=x.p(e),d="set"+(this.$u?"UTC":""),h=(s={},s[o]=d+"Date",s[f]=d+"Date",s[c]=d+"Month",s[l]=d+"FullYear",s[i]=d+"Hours",s[a]=d+"Minutes",s[n]=d+"Seconds",s[r]=d+"Milliseconds",s)[u],m=u===o?this.$D+(t-this.$W):t;if(u===c||u===l){var p=this.clone().set(f,1);p.$d[h](m),p.init(),this.$d=p.set(f,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[x.p(e)]()},g.add=function(r,d){var f,h=this;r=Number(r);var m=x.p(d),p=function(e){var t=w(h);return x.w(t.date(t.date()+Math.round(e*r)),h)};if(m===c)return this.set(c,this.$M+r);if(m===l)return this.set(l,this.$y+r);if(m===o)return p(1);if(m===u)return p(7);var D=(f={},f[a]=t,f[i]=s,f[n]=e,f)[m]||1,g=this.$d.getTime()+r*D;return x.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,s=this.$locale();if(!this.isValid())return s.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=x.z(this),a=this.$H,i=this.$m,o=this.$M,u=s.weekdays,c=s.months,d=s.meridiem,l=function(e,s,n,a){return e&&(e[s]||e(t,r))||n[s].slice(0,a)},f=function(e){return x.s(a%12||12,e,"0")},m=d||function(e,t,s){var r=e<12?"AM":"PM";return s?r.toLowerCase():r};return r.replace(p,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return x.s(t.$y,4,"0");case"M":return o+1;case"MM":return x.s(o+1,2,"0");case"MMM":return l(s.monthsShort,o,c,3);case"MMMM":return l(c,o);case"D":return t.$D;case"DD":return x.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return l(s.weekdaysMin,t.$W,u,2);case"ddd":return l(s.weekdaysShort,t.$W,u,3);case"dddd":return u[t.$W];case"H":return String(a);case"HH":return x.s(a,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return m(a,i,!0);case"A":return m(a,i,!1);case"m":return String(i);case"mm":return x.s(i,2,"0");case"s":return String(t.$s);case"ss":return x.s(t.$s,2,"0");case"SSS":return x.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,f,h){var m,p=this,D=x.p(f),g=w(r),$=(g.utcOffset()-this.utcOffset())*t,v=this-g,b=function(){return x.m(p,g)};switch(D){case l:m=b()/12;break;case c:m=b();break;case d:m=b()/3;break;case u:m=(v-$)/6048e5;break;case o:m=(v-$)/864e5;break;case i:m=v/s;break;case a:m=v/t;break;case n:m=v/e;break;default:m=v}return h?m:x.a(m)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var s=this.clone(),r=S(e,t,!0);return r&&(s.$L=r),s},g.clone=function(){return x.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},D}(),Z=M.prototype;return w.prototype=Z,[["$ms",r],["$s",n],["$m",a],["$H",i],["$W",o],["$M",c],["$y",l],["$D",f]].forEach((function(e){Z[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,M,w),e.$i=!0),w},w.locale=S,w.isDayjs=y,w.unix=function(e){return w(1e3*e)},w.en=b[v],w.Ls=b,w.p={},w}()},88301:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(18415);function n(){return n="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,s){var n=(0,r.Z)(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:s):a.value}},n.apply(this,arguments)}},18415:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(61120);function n(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}}}]);
//# sourceMappingURL=3418.630947cb.chunk.js.map