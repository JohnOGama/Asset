"use strict";(self.webpackChunkasset=self.webpackChunkasset||[]).push([[9057],{99057:function(e,t,l){l.r(t);var o=l(1413),a=l(29439),i=l(72791),n=l(31243),c=l(15493),s=l(57689),u=l(78983),r=l(24518),d=l(5574),h=l(97123),p=l(39157),g=l(51691),f=l(65661),m=l(35527),w=l(59962),v=l.n(w),Z=l(54970),b=l(17746),x=l(44293),k=l(80184);t.default=function(){var e=(0,s.s0)(),t="",l=(0,i.useState)(""),w=(0,a.Z)(l,2),S=w[0],j=w[1],C=(0,i.useState)("red"),N=(0,a.Z)(C,2),R=N[0],y=N[1],I=(0,i.useState)([]),P=(0,a.Z)(I,2),E=P[0],V=P[1],D=i.useState(!1),M=(0,a.Z)(D,2),U=M[0],A=M[1],z=(0,i.useState)({}),F=(0,a.Z)(z,2),L=F[0],O=F[1];function Y(){try{!function(){try{(0,x.pe)(window.localStorage.getItem("Kgr67W@"),b.Z.secretkeylocal)}catch(l){(0,Z.Z)("Error","ViewPulloutUser","CheckRole Local Storage is tampered",l.message,t),e("/dashboard")}}(),null==!window.localStorage.getItem("id")||"0"!==window.localStorage.getItem("id")?t=(0,x.pe)(window.localStorage.getItem("id"),b.Z.secretkeylocal):e("/login")}catch(l){e("/dashboard")}}(0,i.useEffect)((function(){Y()}),[]);var H=i.useMemo((function(){return[{field:"assetCode",headerName:"Code",width:150,editable:!1},{field:"assetName",headerName:"Name",width:200,editable:!1},{field:"statusName",headerName:"Status",width:150,editable:!1},{field:"assetCategName",headerName:"Category",width:150,editable:!1},{field:"pulloutby",headerName:"Pullout User",width:150,editable:!1},{field:"pulloutdate",headerName:"Pullout Date",width:150,editable:!1},{field:"pulloutreceive",headerName:"Receive",width:150,editable:!1},{field:"pulloutdatereceive",headerName:"Date Receive",width:150,editable:!1}]}),[]);function K(e){try{""==t&&Y(),j("");var l=e;n.Z.post("http://localhost:3001/pullout/checkpulloutnotification",{rowId:l,userID:t}).then((function(o){var a=o.data.message;"Record Found"==a?function(e){try{""==t&&Y();var l=e,o="http://localhost:3001/pullout/updatepulloutnotification";n.Z.post(o,{rowId:l,userID:t}).then((function(e){var o=e.data.message;"Update Success"==o&&(0,Z.Z)("Message","ViewPullout","SingleCheckIn /pullout/updatepulloutnotification"," Receive Pullout \n Detail ID : "+l+" \n Purpose : Mark pullout as receive\n User : "+t,t),"Update Error"==o&&(j("Selected asset not updated"),y("red"),(0,Z.Z)("Error","ViewPullout","SingleCheckIn /pullout/updatepulloutnotification","Selected asset not updated ( "+l+" )",t))})).catch((function(e){(0,Z.Z)("Error","ViewPullout","SingleCheckIn /pullout/updatepulloutnotification",e.message,t)}))}catch(a){(0,Z.Z)("Error","ViewPullout","SingleCheckIn /pullout/updatepulloutnotification",a.message,t)}}(e):"No Record Found"==a&&(0,Z.Z)("Message","ViewPullout","CheckAssetReceive /pullout/checkpulloutnotification ","Asset previously received ( "+l+" )",t)})).catch((function(e){(0,Z.Z)("Error","ViewPullout","CheckAssetReceive /pullout/checkpulloutnotification"," Error then/catch \n "+e.message,t)}))}catch(o){(0,Z.Z)("Error","ViewPullout","CheckAssetReceive /pullout/checkpulloutnotification"," Error try/catch \n "+o.message,t)}}function T(){A(!1)}function W(){""==t&&Y();n.Z.post("http://localhost:3001/pullout/viewallpullout").then((function(e){var l=e.data.message;"Record Found"==l&&(console.log(t),V(e.data.result))})).catch((function(e){(0,Z.Z)("Error","ViewPullout","LoadData pullout/viewallpullout",e.message,t)}))}return(0,i.useEffect)((function(){W()}),[]),(0,k.jsx)(u.b7,{xs:12,children:(0,k.jsxs)(u.xH,{className:"mb-3",size:"sm",children:[(0,k.jsx)(u.bn,{children:(0,k.jsxs)("strong",{children:["User Pullout ",(0,k.jsx)("span",{className:"message",style:{color:R},children:(0,k.jsx)("p",{children:S})})," "]})}),(0,k.jsx)(u.lx,{children:(0,k.jsx)(u.rb,{children:(0,k.jsx)(u.b7,{xs:12,children:(0,k.jsxs)(u.sl,{children:[(0,k.jsx)(u.YR,{size:"sm",className:"mb-3",children:(0,k.jsx)("div",{style:{height:400,width:"100%"},children:(0,k.jsx)(c._$,{rows:E,columns:H,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],rowSelection:!0,getRowId:function(e){return e.id},disableRowSelectionOnClick:!0,onRowSelectionModelChange:function(e){return O(e)}})})}),(0,k.jsx)("div",{className:"d-grid",children:(0,k.jsxs)(d.Z,{open:U,onClose:T,PaperComponent:function(e){return(0,k.jsx)(v(),{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:(0,k.jsx)(m.Z,(0,o.Z)({},e))})},"aria-labelledby":"draggable-dialog-title",children:[(0,k.jsx)(f.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Receive Asset"}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(g.Z,{children:"You acknowledge asset will be receive from user \n advice and will be checkin to IT !"})}),(0,k.jsxs)(h.Z,{children:[(0,k.jsx)(r.Z,{autoFocus:!0,onClick:T,children:"Cancel"}),(0,k.jsx)(r.Z,{onClick:function(){try{A(!1),L.forEach((function(e,t){t,K(e)})),W()}catch(e){0}},children:" Receive"})]})]})})]})})})})]})})}}}]);
//# sourceMappingURL=9057.8fd677ae.chunk.js.map