"use strict";(self.webpackChunkasset=self.webpackChunkasset||[]).push([[928],{10928:function(e,r,t){t.r(r);var s=t(4942),a=t(1413),o=t(29439),n=t(72791),c=t(31243),i=t(78983),l=t(27391),u=t(57689),d=t(17746),g=t(44293),h=t(54970),m=t(80184);r.default=function(){var e=(0,u.s0)(),r=(0,u.TH)().state,t="";try{t=r.params}catch(k){e("/dashboard")}var y="",p="",f=(0,n.useState)(""),C=(0,o.Z)(f,2),b=C[0],x=C[1],Z=(0,n.useState)("red"),j=(0,o.Z)(Z,2),S=j[0],w=j[1],E=(0,n.useState)({assetid:"",name:"",description:""}),I=(0,o.Z)(E,2),v=I[0],N=I[1];function U(){try{!function(){try{p=(0,g.pe)(window.localStorage.getItem("Kgr67W@"),d.Z.secretkeylocal)}catch(k){(0,h.Z)("Error","UserCategory","CheckRole Local Storage is tampered",k.message,y),e("/dashboard")}}(),"Admin"==p||"IT"==p?null==!window.localStorage.getItem("id")||"0"!==window.localStorage.getItem("id")?y=(0,g.pe)(window.localStorage.getItem("id"),d.Z.secretkeylocal):e("/login"):e("/dashboard")}catch(k){e("/dashboard")}}function D(e){N((0,a.Z)((0,a.Z)({},v),{},(0,s.Z)({},e.target.name,e.target.value)))}return(0,n.useEffect)((function(){U()}),[]),(0,n.useEffect)((function(){if(""==y&&U(),""==!t){c.Z.post("http://localhost:3001/usercategory/getuserCategorybyID",{rowId:t}).then((function(e){var r=e.data.message;"Record Found"==r?N((0,a.Z)((0,a.Z)({},v),{},{assetid:e.data.result[0].categoryID,name:e.data.result[0].categoryName,description:e.data.result[0].categoryDesc})):"No Record Found"==r&&(x(r),w("red"),(0,h.Z)("Error","UserCategory","useEffect /usercategory/getuserCategorybyID",e.data.message,y))})).catch((function(e){(0,h.Z)("Error","UserCategory","useEffect /usercategory/getuserCategorybyID"," Error in try/catch \n"+e.message,y)}))}}),[]),(0,m.jsx)(i.b7,{xs:12,children:(0,m.jsxs)(i.xH,{className:"mb-3",size:"sm",children:[(0,m.jsx)(i.bn,{children:(0,m.jsxs)("h6",{children:[(0,m.jsxs)("span",{className:"message",style:{color:"#5da4f5"},children:[" ",(0,m.jsx)(m.Fragment,{children:" User Category "})]}),(0,m.jsx)("br",{}),(0,m.jsxs)("strong",{children:[(0,m.jsx)("span",{className:"message",style:{color:S},children:(0,m.jsx)("p",{children:b})})," "]})]})}),(0,m.jsx)(i.lx,{onSubmit:function(r){try{r.preventDefault(),""==y&&U();var s=v.name,a=v.description;if(""==!s&&""==!a)if(""==t){c.Z.post("http://localhost:3001/usercategory/putuserCategory",{name:s,description:a,userID:y}).then((function(r){var t=r.data.message;"Insert Success"==t?((0,h.Z)("Message","UserCategory","handleSubmit /usercategory/putuserCategory"," New Category \n Name: "+s+"\n Desc  :  "+a+"\n User : "+y,y),e("/configurations/usercategoryview")):"Insert Error"==t&&((0,h.Z)("Error","UserCategory","handleSubmit /usercategory/putuserCategory",r.data.message,y),x(t),w("red"))})).catch((function(r){(0,h.Z)("Error","UserCategory","handleSubmit /usercategory/putuserCategory","Error in then/catch \n"+r.message,y),e("/500")}))}else{c.Z.post("http://localhost:3001/usercategory/updateuserCategory",{name:s,description:a,userID:y,rowId:t}).then((function(r){var o=r.data.message;"Update Success"==o?((0,h.Z)("Message","UserAssetCategory","handleSubmit /usercategory/updateuserCategory"," New Category \n AssetID : "+t+"\n Name: "+s+"\n Desc  :  "+a+"\n User : "+y,y),e("/configurations/usercategoryview")):"Update Error"==o&&((0,h.Z)("Error","UserAssetCategory","handleSubmit /usercategory/updateuserCategory",r.data.message,y),x(o),w("red"))})).catch((function(r){(0,h.Z)("Error","UserAssetCategory","handleSubmit /usercategory/updateuserCategory","Error in then/catch \n"+r.message,y),e("/500")}))}else x("All fields must not be emtpy"),w("red")}catch(k){(0,h.Z)("Error","AssetCategory","handleSubmit"," Error in try/catch",y)}},children:(0,m.jsxs)(i.rb,{children:[(0,m.jsx)(i.b7,{children:(0,m.jsxs)(i.sl,{children:[(0,m.jsx)(i.YR,{size:"sm",className:"mb-3",children:(0,m.jsx)(l.Z,{onChange:function(e){return D(e)},name:"name",id:"outlined-textarea",value:v.name,fullWidth:!0,label:"Category Name",placeholder:"Notes"})}),(0,m.jsx)(i.YR,{size:"sm",className:"mb-3",children:(0,m.jsx)(l.Z,{onChange:D,name:"description",id:"outlined-textarea",value:v.description,fullWidth:!0,label:"Description",placeholder:"Description",multiline:!0,rows:5})})]})}),(0,m.jsx)(i.b7,{}),(0,m.jsx)("div",{className:"d-grid",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,m.jsx)(i.u5,{style:{margin:"5px",width:"120%"},color:"success",type:"submit",children:"Save"})})]})})]})})}}}]);
//# sourceMappingURL=928.8d2d9584.chunk.js.map