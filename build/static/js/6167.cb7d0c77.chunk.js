(self.webpackChunkasset=self.webpackChunkasset||[]).push([[6167],{36167:function(e,t,r){"use strict";r.r(t);var n=r(1413),o=r(29439),a=r(72791),c=r(31243),i=r(15493),s=r(31675),u=r(8845),l=r(24518),d=r(5574),f=r(97123),g=r(39157),h=r(51691),y=r(65661),p=r(35527),Z=r(59962),m=r.n(Z),x=r(17746),w=r(44293),C=r(54970),j=r(57689),v=r(78983),b=r(80184);t.default=function(){var e=(0,j.s0)(),t="",r="",Z=(0,a.useState)(""),k=(0,o.Z)(Z,2),E=k[0],N=k[1],S=(0,a.useState)("red"),V=(0,o.Z)(S,2),D=V[0],M=V[1],z=(0,a.useState)([]),I=(0,o.Z)(z,2),R=I[0],F=I[1],_=a.useState(!1),L=(0,o.Z)(_,2),P=L[0],T=L[1],H=(0,a.useState)(""),O=(0,o.Z)(H,2),A=O[0],B=O[1];function W(){try{!function(){try{r=(0,w.pe)(window.localStorage.getItem("Kgr67W@"),x.Z.secretkeylocal)}catch(n){(0,C.Z)("Error","CategoryView","CheckRole Local Storage is tampered",n.message,t),e("/dashboard")}}(),"Admin"==r||"IT"==r?null==!window.localStorage.getItem("id")||"0"!==window.localStorage.getItem("id")?t=(0,w.pe)(window.localStorage.getItem("id"),x.Z.secretkeylocal):e("/login"):e("/dashboard")}catch(n){e("/dashboard")}}(0,a.useEffect)((function(){W()}),[]);var Y=a.useMemo((function(){return[{field:"id",headerName:"Actions",type:"actions",disableClickEventBubbling:!0,renderCell:function(t){return(0,b.jsxs)("div",{children:[(0,b.jsx)(s.Z,{cursor:"pointer",onClick:function(){return function(t){e("/configurations/assetcategory",{state:{params:t}})}(t.row.id)}}),(0,b.jsx)(u.Z,{cursor:"pointer",onClick:function(){return q(t.row.id)}})]})}},{field:"assetCategName",headerName:"Category Name",width:200,editable:!1},{field:"description",headerName:"Description",width:300,editable:!1}]}),[]);(0,a.useEffect)((function(){}),[A]);var q=function(e){N(""),B(e),function(e){try{""==t&&W();var r=e,n="http://localhost:3001/category/checkCategoryfordelete";c.Z.post(n,{rowId:r}).then((function(e){var t=e.data.message;"Record Found"==t?(N("Category selected still in use"),M("red"),T(!1)):"No Record Found"==t&&T(!0)})).catch((function(e){(0,C.Z)("Error","CategoryView","checkStatus /category/checkCategoryfordelete",e.message,t),N("Error in checking status"),M("red")}))}catch(o){(0,C.Z)("Error","CategoryView","checkStatus /category/checkCategoryfordelete","Error in try/catch",t)}}(e)},G=function(){T(!1)};function K(){""==t&&W(),N("");c.Z.post("http://localhost:3001/category/viewallcategory").then((function(e){var r=e.data.message;"Record Found"==r?F(e.data.result):"No Record Found"==r&&((0,C.Z)("Error","CategoryView","LoadData /category/viewallcategory",e.data.message,t),N("No record found"),M("red"))})).catch((function(e){(0,C.Z)("Error","CategoryView","LoadData /category/viewallcategory",e.message,t),N("No record found"),M("red")}))}return(0,a.useEffect)((function(){K()}),[]),(0,b.jsx)(v.b7,{xs:12,children:(0,b.jsxs)(v.xH,{className:"mb-3",size:"sm",children:[(0,b.jsx)(v.bn,{children:(0,b.jsxs)("h6",{children:[(0,b.jsxs)("span",{className:"message",style:{color:"#5da4f5"},children:[" ",(0,b.jsx)(b.Fragment,{children:" Category "})]}),(0,b.jsx)("br",{}),(0,b.jsxs)("strong",{children:[(0,b.jsx)("span",{className:"message",style:{color:D},children:(0,b.jsx)("p",{children:E})})," "]})]})}),(0,b.jsx)(v.lx,{children:(0,b.jsx)(v.rb,{children:(0,b.jsx)(v.b7,{xs:12,children:(0,b.jsxs)(v.sl,{children:[(0,b.jsx)(v.u5,{onClick:function(t){e("/configurations/assetcategory",{state:{params:""}})},children:"Create New "}),(0,b.jsx)(v.YR,{size:"sm",className:"mb-3",children:(0,b.jsx)("div",{style:{height:400,width:"100%"},children:(0,b.jsx)(i._$,{rows:R,columns:Y,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],rowSelection:!0,getRowId:function(e){return e.id}})})}),(0,b.jsx)("div",{className:"d-grid",children:(0,b.jsxs)(d.Z,{open:P,onClose:G,PaperComponent:function(e){return(0,b.jsx)(m(),{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:(0,b.jsx)(p.Z,(0,n.Z)({},e))})},"aria-labelledby":"draggable-dialog-title",children:[(0,b.jsx)(y.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Category"}),(0,b.jsx)(g.Z,{children:(0,b.jsx)(h.Z,{children:"Are you sure you want to Delete ?"})}),(0,b.jsxs)(f.Z,{children:[(0,b.jsx)(l.Z,{autoFocus:!0,onClick:G,children:"No"}),(0,b.jsx)(l.Z,{onClick:function(){try{""==t&&W();var e=A;c.Z.post("http://localhost:3001/category/deleteCategory",{rowId:e}).then((function(e){var r=e.data.message;"Record Deleted"==r?(T(!1),K()):"No Record Deleted"==r&&(N("No record deleted"),M("red"),(0,C.Z)("Error","CategoryView","handleDelete /category/deleteCategory",e.data.message.message,t))})).catch((function(e){(0,C.Z)("Error","CategoryView","handleDelete /category/deleteCategory",e.message,t),N("No record deleted"),M("red")}))}catch(r){(0,C.Z)("Error","CategoryView","handleDelete /category/deleteCategory","DB Error in try/catch",t)}},children:"Yes"})]})]})})]})})})})]})})}},8845:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var o=n(r(45649)),a=r(80184),c=(0,o.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineTwoTone");t.Z=c},31675:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var o=n(r(45649)),a=r(80184),c=(0,o.default)([(0,a.jsx)("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19z"},"1")],"EditTwoTone");t.Z=c},45649:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(54421)},54421:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return o.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return c.Z},debounce:function(){return i.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return g},unstable_ClassNameGenerator:function(){return C},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return y.Z},unsupportedProp:function(){return p},useControlled:function(){return Z.Z},useEventCallback:function(){return m.Z},useForkRef:function(){return x.Z},useIsFocusVisible:function(){return w.Z}});var n=r(55902),o=r(14036),a=r(78949).Z,c=r(76189),i=r(83199);var s=function(e,t){return function(){return null}},u=r(19103),l=r(98301),d=r(17602);r(87462);var f=function(e,t){return function(){return null}},g=r(62971).Z,h=r(40162),y=r(67384);var p=function(e,t,r,n,o){return null},Z=r(98278),m=r(89683),x=r(42071),w=r(23031),C={configure:function(e){n.Z.configure(e)}}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=6167.cb7d0c77.chunk.js.map