(self.webpackChunkasset=self.webpackChunkasset||[]).push([[3662],{83662:function(e,r,t){"use strict";t.r(r);var n=t(1413),i=t(29439),o=t(72791),c=t(31243),s=t(15493),a=t(31675),l=t(8845),u=t(24518),d=t(5574),p=t(97123),f=t(39157),h=t(51691),g=t(65661),m=t(35527),Z=t(59962),x=t.n(Z),w=t(17746),j=t(44293),v=t(54970),b=t(57689),S=t(78983),E=t(80184);r.default=function(){var e=(0,b.s0)(),r="",t="",Z=(0,o.useState)(""),y=(0,i.Z)(Z,2),k=y[0],N=y[1],C=(0,o.useState)("red"),V=(0,i.Z)(C,2),M=V[0],z=V[1],I=(0,o.useState)([]),D=(0,i.Z)(I,2),F=D[0],R=D[1],_=o.useState(!1),L=(0,i.Z)(_,2),P=L[0],T=L[1],H=(0,o.useState)(""),O=(0,i.Z)(H,2),A=O[0],W=O[1];function Y(){try{!function(){try{t=(0,j.pe)(window.localStorage.getItem("Kgr67W@"),w.Z.secretkeylocal)}catch(n){(0,v.Z)("Error","SupplierView","CheckRole Local Storage is tampered",n.message,r),e("/dashboard")}}(),"Admin"==t||"IT"==t?null==!window.localStorage.getItem("id")||"0"!==window.localStorage.getItem("id")?r=(0,j.pe)(window.localStorage.getItem("id"),w.Z.secretkeylocal):e("/login"):e("/dashboard")}catch(n){e("/dashboard")}}(0,o.useEffect)((function(){Y()}),[]);var q=o.useMemo((function(){return[{field:"id",headerName:"Actions",type:"actions",disableClickEventBubbling:!0,renderCell:function(r){return(0,E.jsxs)("div",{children:[(0,E.jsx)(a.Z,{cursor:"pointer",onClick:function(){return function(r){e("/configurations/supplier",{state:{params:r}})}(r.row.id)}}),(0,E.jsx)(l.Z,{cursor:"pointer",onClick:function(){return B(r.row.id)}})]})}},{field:"name",headerName:"Name",width:250,editable:!1},{field:"contactno",headerName:"Contact No",width:150,editable:!1},{field:"email",headerName:"Email",width:150,editable:!1}]}),[]);(0,o.useEffect)((function(){}),[A]);var B=function(e){N(""),W(e),function(e){try{""==r&&Y();var t=e,n="http://localhost:3001/supplier/checksupplierfordelete";c.Z.post(n,{rowId:t}).then((function(e){var r=e.data.message;"Record Found"==r?(N("Supplier selected still in use"),z("red"),T(!1)):"No Record Found"==r&&T(!0)})).catch((function(e){(0,v.Z)("Error","SupplierView","checkStatus /supplier/checksupplierfordelete","Error in tehn/catch \n "+e.message,r),N("Error in checking status"),z("red")}))}catch(i){(0,v.Z)("Error","SupplierView","checkStatus /supplier/checksupplierfordelete","Error in try/catch \n"+i.message,r)}}(e)},G=function(){T(!1)};function K(){N(""),""==r&&Y();c.Z.post("http://localhost:3001/supplier/viewallsupplier").then((function(e){var t=e.data.message;"Record Found"==t?R(e.data.result):"No Record Found"==t&&((0,v.Z)("Error","SupplierView","LoadData /supplier/viewallsupplier",e.data.message,r),N("No record found"),z("red"))})).catch((function(e){(0,v.Z)("Error","SupplierView","LoadData /supplier/viewallsupplier","Error in then/catch \n"+e.message,r),N("No record found"),z("red")}))}return(0,o.useEffect)((function(){K()}),[]),(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(S.b7,{xs:12,children:(0,E.jsxs)(S.xH,{className:"mb-3",size:"sm",children:[(0,E.jsx)(S.bn,{children:(0,E.jsxs)("h6",{children:[(0,E.jsxs)("span",{className:"message",style:{color:"#5da4f5"},children:[" ",(0,E.jsx)(E.Fragment,{children:" Supplier "})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("strong",{children:[(0,E.jsx)("span",{className:"message",style:{color:M},children:(0,E.jsx)("p",{children:k})})," "]})]})}),(0,E.jsx)(S.lx,{children:(0,E.jsx)(S.rb,{children:(0,E.jsx)(S.b7,{xs:12,children:(0,E.jsxs)(S.sl,{children:[(0,E.jsx)(S.u5,{onClick:function(r){e("/configurations/supplier",{state:{params:""}})},type:"success",children:"Create New "}),(0,E.jsx)(S.YR,{size:"sm",className:"mb-3",children:(0,E.jsx)("div",{style:{height:400,width:"100%"},children:(0,E.jsx)(s._$,{rows:F,columns:q,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],rowSelection:!0,getRowId:function(e){return e.id}})})}),(0,E.jsx)("div",{className:"d-grid",children:(0,E.jsxs)(d.Z,{open:P,onClose:G,PaperComponent:function(e){return(0,E.jsx)(x(),{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:(0,E.jsx)(m.Z,(0,n.Z)({},e))})},"aria-labelledby":"draggable-dialog-title",children:[(0,E.jsx)(g.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Category"}),(0,E.jsx)(f.Z,{children:(0,E.jsx)(h.Z,{children:"Are you sure you want to Delete ?"})}),(0,E.jsxs)(p.Z,{children:[(0,E.jsx)(u.Z,{autoFocus:!0,onClick:G,children:"No"}),(0,E.jsx)(u.Z,{onClick:function(){try{""==r&&Y();var e=A;c.Z.post("http://localhost:3001/supplier/deleteSupplier",{rowId:e}).then((function(e){var t=e.data.message;"Record Deleted"==t?(T(!1),K()):"No Record Deleted"==t&&(N("No record deleted"),z("red"),(0,v.Z)("Error","SupplierView","handleDelete /supplier/deleteSupplier",e.data.message.message,r))})).catch((function(e){(0,v.Z)("Error","SupplierView","handleDelete /supplier/deleteSupplier","Error in then/catch \n"+e.message,r),N("No record deleted"),z("red")}))}catch(t){(0,v.Z)("Error","SupplierView","handleDelete /supplier/deleteSupplier","Error in try/catch \n"+t.message,r)}},children:"Yes"})]})]})})]})})})})]})})})}},8845:function(e,r,t){"use strict";var n=t(64836);r.Z=void 0;var i=n(t(45649)),o=t(80184),c=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineTwoTone");r.Z=c},31675:function(e,r,t){"use strict";var n=t(64836);r.Z=void 0;var i=n(t(45649)),o=t(80184),c=(0,i.default)([(0,o.jsx)("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),(0,o.jsx)("path",{d:"M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19z"},"1")],"EditTwoTone");r.Z=c},45649:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=t(54421)},54421:function(e,r,t){"use strict";t.r(r),t.d(r,{capitalize:function(){return i.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return c.Z},debounce:function(){return s.Z},deprecatedPropType:function(){return a},isMuiElement:function(){return l.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return p},setRef:function(){return f},unstable_ClassNameGenerator:function(){return v},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return m},useControlled:function(){return Z.Z},useEventCallback:function(){return x.Z},useForkRef:function(){return w.Z},useIsFocusVisible:function(){return j.Z}});var n=t(55902),i=t(14036),o=t(78949).Z,c=t(76189),s=t(83199);var a=function(e,r){return function(){return null}},l=t(19103),u=t(98301),d=t(17602);t(87462);var p=function(e,r){return function(){return null}},f=t(62971).Z,h=t(40162),g=t(67384);var m=function(e,r,t,n,i){return null},Z=t(98278),x=t(89683),w=t(42071),j=t(23031),v={configure:function(e){n.Z.configure(e)}}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=3662.367f86f6.chunk.js.map